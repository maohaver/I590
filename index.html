<html lang="en"><head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="../../favicon.ico">

    <title>I590 - Project 2</title>

    <!-- Bootswatch CSS via CDN -->
    <link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/simplex/bootstrap.min.css" rel="stylesheet" integrity="sha384-C0X5qw1DlkeV0RDunhmi4cUBUkPDTvUqzElcNWm1NI2T4k8tKMZ+wRPQOhZfSJ9N" crossorigin="anonymous">

    <!-- Custom styles for this template -->
    <link href="css/I590-2.css" rel="stylesheet">


    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>

  <body>

    <nav class="navbar navbar-default navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="#">I590 Project 2</a>
        </div>
        <div id="navbar" class="collapse navbar-collapse">
          <ul class="nav navbar-nav">
            <li class="active"><a href="#">Home</a></li>
            <li><a href="multiview.html">Multi-Map View</a></li>
            <li><a href="documentation.html">Documentation</a></li>
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </nav>

    <div class="container">

       <h1>I590 Choropleth</h1>


           <p class="lead">Unemployment Rate by County.</p>

      
         <div class="row">


               <div class="col-xs-12 col-md-2">

                    <div class="panel panel-default">
                      <div class="panel-heading">
                        <h4 class="panel-title">Panel 1</h4>
                      </div>
                      <div class="panel-body">
                        Panel content 1
                      </div>
                    </div>


                     <div class="panel panel-default">
                      <div class="panel-heading">
                        <h4 class="panel-title">Panel 2</h4>
                      </div>
                      <div class="panel-body">
                        Panel content 2
                      </div>
                    </div>

                    <div class="panel panel-default">
                      <div class="panel-heading">
                        <h4 class="panel-title">Panel 3</h4>
                      </div>
                      <div class="panel-body">
                        Panel content 3
                      </div>
                    </div>


                     <div class="panel panel-default">
                      <div class="panel-heading">
                        <h4 class="panel-title">Panel 4</h4>
                      </div>
                      <div class="panel-body">
                        Panel content 4
                      </div>
                    </div>

               </div> <!-- /.col-md-2 -->
       



              <div class="col-xs-12 col-md-8">
        
     <!-- legend -->           
      <div id="legend"> </div>


        <svg id="map" width="760" height="500"></svg>
<script src="//d3js.org/d3.v4.min.js"></script>
<script src="//d3js.org/topojson.v1.min.js"></script>
<script>
//testing code
var legend = d3.select('#legend')
  .append('ul')
    .attr('class', 'list-inline');

var formats = {
    percent: d3.format('.2%')
};

var margin = {top: 10, left: 10, bottom: 10, right: 10}
  , width = parseInt(d3.select('#map').style('width'))
  , width = width - margin.left - margin.right
  , mapRatio = .5
  , height = width * mapRatio;

//example map code
var svg = d3.select("svg"),
    width = +svg.attr("width"),
    height = +svg.attr("height");

var rateById = d3.map();

var quantize = d3.scaleQuantize()
    .domain([0, 0.15])
    .range(d3.range(9).map(function(i) { return "q" + i + "-9"; }));

var projection = d3.geoAlbersUsa()
    .scale(width)
    .translate([width / 2, height / 2]);

var path = d3.geoPath()
    .projection(projection);

d3.queue()
    .defer(d3.json, "data/us.json")
    .defer(d3.tsv, "data/unemployment.tsv", function(d) { rateById.set(d.id, +d.rate); })
    .await(ready);

function ready(error, us) {
  if (error) throw error;

  svg.append("g")
      .attr("class", "counties")
    .selectAll("path")
      .data(topojson.feature(us, us.objects.counties).features)
    .enter().append("path")
      .attr("class", function(d) { return quantize(rateById.get(d.id)); })
      .attr("d", path);

  svg.append("path")
      .datum(topojson.mesh(us, us.objects.states, function(a, b) { return a !== b; }))
      .attr("class", "states")
      .attr("d", path);
}
//legend code

var keys = legend.selectAll('li.key')
    .data(quantize.range());

keys.enter().append('li')
    .attr('class', 'key')
    .style('border-top-color', String)
    .text(function(d) {
        var r = quantize.invertExtent(d);
        return formats.percent(r[0]);
    });
    
//resize code

</script>

             </div> <!-- /.col-md-8 -->

         <div class="col-xs-12 col-md-2">

               

                     <div class="panel panel-default">
                      <div class="panel-heading">
                        <h4 class="panel-title">Panel 5</h4>
                      </div>
                      <div class="panel-body">
                        Panel content 5
                      </div>
                    </div>

                    <div class="panel panel-default">
                      <div class="panel-heading">
                        <h4 class="panel-title">Panel 6</h4>
                      </div>
                      <div class="panel-body">
                        Panel content 6
                      </div>
                    </div>

                     <div class="panel panel-default">
                      <div class="panel-heading">
                        <h4 class="panel-title">Panel 7</h4>
                      </div>
                      <div class="panel-body">
                        Panel content 7
                      </div>
                    </div>


 <div class="panel panel-default">
                      <div class="panel-heading">
                        <h4 class="panel-title">Panel 8</h4>
                      </div>
                      <div class="panel-body">
                        Panel content 8
                      </div>
                    </div>





               </div> <!-- /.col-md-2 -->


      </div> <!-- /.row -->

    </div><!-- /.container -->


    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script>window.jQuery || document.write('<script src="../../assets/js/vendor/jquery.min.js"><\/script>')</script>
    <script src="js/bootstrap.min.js"></script>
   

</body></html>